# çª©ç®—ç®— (WoCalc)

> æº«æš–æˆå®¶ï¼Œç†æ€§è¦åŠƒ ğŸ ğŸ’™

å°ˆæ¥­çš„æˆ¿è²¸è©¦ç®—èˆ‡æ”¶æ”¯æ¯”åˆ†æå·¥å…·ï¼Œå¹«åŠ©æ‚¨ç†æ€§è¦åŠƒè³¼å±‹è¨ˆç•«ã€‚

## å°ˆæ¡ˆç°¡ä»‹

çª©ç®—ç®— (WoCalc) æ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„æˆ¿è²¸è¨ˆç®—å·¥å…·ï¼Œæä¾›æº«æš–ã€å°ˆæ¥­çš„ä½¿ç”¨é«”é©—ã€‚ä¸åŒæ–¼å‚³çµ±å†·å†°å†°çš„éŠ€è¡Œå·¥å…·ï¼Œæˆ‘å€‘è‡´åŠ›æ–¼è®“è¤‡é›œçš„è²¡å‹™è¦åŠƒè®Šå¾—è¦ªåˆ‡æ˜“æ‡‚ã€‚

### æ ¸å¿ƒç‰¹è‰²

- ğŸ¯ **ç²¾æº–çš„æ”¶æ”¯æ¯”åˆ†æ**ï¼šåŸºæ–¼çœŸå¯¦éŠ€è¡Œå¯©æ ¸æ¨™æº–
- ğŸ’¼ **ä¿è­‰äºº/é…å¶æ“”ä¿æ”¯æ´**ï¼šå½ˆæ€§çš„æ”¶å…¥åˆä½µè¨ˆç®—
- ğŸ“Š **å³æ™‚è¦–è¦ºåŒ–å›é¥‹**ï¼šç›´è§€çš„è²¡å‹™å¥åº·åº¦é¡¯ç¤º
- ğŸ’¾ **è‡ªå‹•å„²å­˜åŠŸèƒ½**ï¼šè³‡æ–™è‡ªå‹•å­˜æ–¼ç€è¦½å™¨æœ¬åœ°ï¼Œä¸æœƒä¸Šå‚³ä¼ºæœå™¨
- ğŸ¨ **ç¾ä»£åŒ–ä»‹é¢è¨­è¨ˆ**ï¼šä½¿ç”¨ Shadcn UI èˆ‡ Tailwind CSS
- ğŸ“± **PWA æ”¯æ´**ï¼šå¯å®‰è£ç‚ºç¨ç«‹æ‡‰ç”¨ç¨‹å¼

## æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“

- **React 19** - UI æ¡†æ¶
- **TypeScript** - é¡å‹å®‰å…¨
- **Vite 7** - å¿«é€Ÿå»ºæ§‹å·¥å…·
- **Tailwind CSS 4** - æ¨£å¼æ¡†æ¶
- **Shadcn UI** - UI å…ƒä»¶åº«
- **Lucide React** - åœ–ç¤ºç³»çµ±
- **Framer Motion** - å‹•ç•«æ•ˆæœ
- **Vite Plugin PWA** - PWA æ”¯æ´

### å¾Œç«¯æœå‹™

- **Express** - Node.js ä¼ºæœå™¨æ¡†æ¶
- **Cloudflare Pages** - éƒ¨ç½²å¹³å°

## é–‹ç™¼æŒ‡å—

### ç’°å¢ƒéœ€æ±‚

- Node.js >= 18 (å»ºè­°ä½¿ç”¨ v23+)
- pnpm >= 9 (å»ºè­°ä½¿ç”¨ v10+)

### å®‰è£èˆ‡å•Ÿå‹•

```bash
# å®‰è£ä¾è³´
pnpm install

# é–‹ç™¼æ¨¡å¼
pnpm dev

# å»ºæ§‹ç”Ÿç”¢ç‰ˆæœ¬
pnpm build

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
pnpm preview

# å‹åˆ¥æª¢æŸ¥
pnpm check

# ç¨‹å¼ç¢¼æ ¼å¼åŒ–
pnpm format
```

### å°ˆæ¡ˆçµæ§‹

```
WoCalc/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/          # GitHub Actions CI/CD
â”‚       â””â”€â”€ deploy.yml      # è‡ªå‹•éƒ¨ç½²è‡³ Cloudflare Pages
â”œâ”€â”€ client/                 # å‰ç«¯æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ public/             # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”œâ”€â”€ pwa-*.png      # PWA åœ–ç¤º
â”‚   â”‚   â””â”€â”€ _redirects     # Cloudflare Pages SPA è·¯ç”±è¨­å®š
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/     # React å…ƒä»¶
â”‚       â”‚   â”œâ”€â”€ ui/        # Shadcn UI å…ƒä»¶
â”‚       â”‚   â””â”€â”€ PWAInstallButton.tsx
â”‚       â”œâ”€â”€ hooks/         # Custom Hooks
â”‚       â”‚   â””â”€â”€ useLocalStorage.ts  # localStorage ç®¡ç†
â”‚       â”œâ”€â”€ lib/           # å·¥å…·å‡½å¼
â”‚       â”‚   â””â”€â”€ mortgage-calculator.ts  # æ ¸å¿ƒè¨ˆç®—é‚è¼¯
â”‚       â”œâ”€â”€ pages/         # é é¢å…ƒä»¶
â”‚       â”‚   â””â”€â”€ Home.tsx
â”‚       â”œâ”€â”€ App.tsx
â”‚       â””â”€â”€ main.tsx
â”œâ”€â”€ docs/                  # å°ˆæ¡ˆæ–‡ä»¶
â”‚   â”œâ”€â”€ DEPLOYMENT.md
â”‚   â””â”€â”€ GITHUB_ACTIONS_SETUP.md
â”œâ”€â”€ server/                # å¾Œç«¯æœå‹™ (Express)
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ shared/                # å…±äº«ä»£ç¢¼
â”‚   â””â”€â”€ const.ts
â”œâ”€â”€ wrangler.toml         # Cloudflare Pages é…ç½®
â”œâ”€â”€ vite.config.ts        # Vite é…ç½®
â””â”€â”€ package.json
```

## åŠŸèƒ½èªªæ˜

### è¨ˆç®—é‚è¼¯

#### æ”¶æ”¯æ¯”å®šç¾©

```
æ”¶æ”¯æ¯” = (ç¸½æœˆæ”¶å…¥ / ç¸½æœˆæ”¯å‡º) Ã— 100%
```

- **ç¸½æœˆæ”¶å…¥**ï¼šå€Ÿæ¬¾äººæœˆæ”¶å…¥ + ä¿è­‰äººæœˆæ”¶å…¥
- **ç¸½æœˆæ”¯å‡º**ï¼šæœ¬æ¡ˆæˆ¿è²¸æœˆä»˜é‡‘ + ç¾æœ‰è²¸æ¬¾æœˆä»˜é‡‘ + åŸºæœ¬ç”Ÿæ´»è²» + ä¿è­‰äººæ”¯å‡º

#### æ ¸è²¸æˆæ•¸èª¿æ•´è¦å‰‡

| æ”¶æ”¯æ¯”ç¯„åœ | æ ¸è²¸æˆæ•¸èª¿æ•´ | è²¡å‹™ç‹€æ…‹ |
|-----------|------------|---------|
| â‰¥ 200% | æ­£å¸¸æ ¸è²¸ (é¦–è³¼8æˆ/äºŒæˆ¶5æˆ) | ğŸŸ¢ å¥åº· |
| 180% ~ 200% | æˆæ•¸æ¸›å°‘ 0.5 æˆ | ğŸŸ¡ è­¦å‘Š |
| 160% ~ 180% | æˆæ•¸æ¸›å°‘ 1 æˆ | ğŸŸ  æ³¨æ„ |
| < 160% | é¦–è³¼é™è‡³6æˆ / äºŒæˆ¶é™è‡³3æˆ | ğŸ”´ å±éšª |

#### é—œéµåƒæ•¸

- **é¦–è³¼åŸºç¤æˆæ•¸**ï¼š80%
- **ç¬¬äºŒæˆ¶åŸºç¤æˆæ•¸**ï¼š50%
- **å¯¬é™æœŸ**ï¼š0-5å¹´ (åªç¹³æ¯æœŸé–“)
- **è²¸æ¬¾å¹´é™**ï¼š20-40å¹´
- **é è¨­åˆ©ç‡**ï¼š2.6%

### è³‡æ–™å„²å­˜

- æ‰€æœ‰è¡¨å–®è³‡æ–™è‡ªå‹•å„²å­˜æ–¼ç€è¦½å™¨çš„ localStorage
- é‡æ–°æ•´ç†æˆ–é—œé–‰ç€è¦½å™¨å¾Œè³‡æ–™ä¸æœƒéºå¤±
- é©åˆåè¦†è©¦ç®—ä¸åŒé‡‘é¡çµ„åˆçš„ä½¿ç”¨æƒ…å¢ƒ
- **è³‡æ–™åƒ…å­˜æ–¼æœ¬åœ°ï¼Œå®Œå…¨ä¸æœƒä¸Šå‚³è‡³ä¼ºæœå™¨**
- å„²å­˜ Keyï¼š`wocalc-form-data`

### PWA åŠŸèƒ½

æœ¬æ‡‰ç”¨æ”¯æ´ PWA (Progressive Web App)ï¼Œä½¿ç”¨è€…å¯ä»¥ï¼š
- åœ¨ç€è¦½å™¨ä¸­é»é¸ã€Œå®‰è£ã€æˆ–ã€ŒåŠ å…¥ä¸»ç•«é¢ã€
- ä½œç‚ºç¨ç«‹æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨
- é›¢ç·šç€è¦½åŸºæœ¬åŠŸèƒ½
- äº«å—åŸç”Ÿæ‡‰ç”¨èˆ¬çš„é«”é©—

#### PWA å®‰è£æ•™å­¸
- **iOS**ï¼šé»æ“Šå³ä¸Šè§’å®‰è£åœ–ç¤ºï¼Œæœƒé¡¯ç¤ºè©³ç´°çš„å®‰è£æ•™å­¸å°è©±æ¡†
- **Android/Desktop**ï¼šç›´æ¥ä½¿ç”¨ç€è¦½å™¨åŸç”Ÿçš„å®‰è£æç¤º

## éƒ¨ç½²

### GitHub Actions è‡ªå‹•éƒ¨ç½² (æ¨è–¦)

æœ¬å°ˆæ¡ˆå·²è¨­å®š GitHub Actions è‡ªå‹•éƒ¨ç½²è‡³ Cloudflare Pagesï¼š

- æ¨é€è‡³ `main` åˆ†æ”¯æ™‚è‡ªå‹•è§¸ç™¼ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
- Pull Request æ™‚å»ºç«‹é è¦½ç’°å¢ƒ
- éœ€è¦åœ¨ GitHub Secrets è¨­å®šï¼š
  - `CLOUDFLARE_API_TOKEN`ï¼šCloudflare API Token
  - `CLOUDFLARE_ACCOUNT_ID`ï¼šCloudflare Account ID

è©³ç´°è¨­å®šèªªæ˜è«‹åƒè€ƒ [`docs/GITHUB_ACTIONS_SETUP.md`](docs/GITHUB_ACTIONS_SETUP.md)

### æ‰‹å‹•éƒ¨ç½²è‡³ Cloudflare Pages

#### é¦–æ¬¡éƒ¨ç½²

1. ç™»å…¥ Cloudflare ä¸¦å–å¾— API Tokenï¼š
   ```bash
   pnpm wrangler login
   ```

2. å»ºç«‹å°ˆæ¡ˆï¼ˆé¦–æ¬¡éœ€è¦ï¼‰ï¼š
   ```bash
   pnpm wrangler pages project create wocalc --production-branch=main
   ```

3. éƒ¨ç½²å°ˆæ¡ˆï¼š
   ```bash
   pnpm deploy
   ```

#### æœ¬åœ°é è¦½ Cloudflare Pages

å»ºæ§‹å¾Œåœ¨æœ¬åœ°æ¸¬è©¦ Cloudflare Pages ç’°å¢ƒï¼š

```bash
pnpm build
pnpm cf:dev
```

## é–‹ç™¼å·¥å…·

### ä½¿ç”¨çš„ä¸»è¦å¥—ä»¶

- **UI å…ƒä»¶**ï¼šRadix UI (Accordion, Dialog, Switch, Tooltip ç­‰)
- **è¡¨å–®è™•ç†**ï¼šReact Hook Form + Zod
- **å‹•ç•«**ï¼šFramer Motion
- **åœ–ç¤º**ï¼šLucide React
- **æ—¥æœŸè™•ç†**ï¼šReact Day Picker
- **ä¸»é¡Œç³»çµ±**ï¼šnext-themes (æ”¯æ´æ·±è‰²æ¨¡å¼)

### é–‹ç™¼è…³æœ¬

```bash
# é–‹ç™¼ä¼ºæœå™¨ï¼ˆå« HMRï¼‰
pnpm dev

# å»ºæ§‹å‰ç«¯ + å¾Œç«¯
pnpm build:server

# ç”Ÿç”¢ç’°å¢ƒå•Ÿå‹•
pnpm start

# TypeScript å‹åˆ¥æª¢æŸ¥
pnpm check

# ç¨‹å¼ç¢¼æ ¼å¼åŒ–ï¼ˆPrettierï¼‰
pnpm format
```

## è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Issue æˆ– Pull Requestï¼

## æˆæ¬Š

MIT License Â© 2025 WoCalc Team

---

**æœ¬å·¥å…·è©¦ç®—çµæœåƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›æ ¸è²¸æ¢ä»¶ä»¥éŠ€è¡Œæœ€çµ‚å¯©æ ¸ç‚ºæº–ã€‚**
